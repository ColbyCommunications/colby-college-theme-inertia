import{a as k,o as x,b as g,J as b,e as D,w as A,B,d as _,I as K,F as Y,j as Z,r as U,f as M,t as V,q as ie}from"./iframe-DnZ0NymE.js";import{_ as ce}from"./Button-DEkzXCHT.js";import"./preload-helper-PPVm8Dsz.js";function le(){function t(e){return new Promise(n=>{let r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach(s=>r.setRequestHeader(s,e.headers[s]));let a=(s,o)=>setTimeout(()=>{r.abort(),n({status:0,content:o,isTimedOut:!0})},s),l=a(e.connectTimeout,"Connection timeout"),c;r.onreadystatechange=()=>{r.readyState>r.OPENED&&c===void 0&&(clearTimeout(l),c=a(e.responseTimeout,"Socket timeout"))},r.onerror=()=>{r.status===0&&(clearTimeout(l),clearTimeout(c),n({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=()=>{clearTimeout(l),clearTimeout(c),n({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)})}return{send:t}}function ue(t){let e;const n=`algolia-client-js-${t.key}`;function r(){return e===void 0&&(e=t.localStorage||window.localStorage),e}function a(){return JSON.parse(r().getItem(n)||"{}")}function l(s){r().setItem(n,JSON.stringify(s))}function c(){const s=t.timeToLive?t.timeToLive*1e3:null,o=a(),i=Object.fromEntries(Object.entries(o).filter(([,f])=>f.timestamp!==void 0));if(l(i),!s)return;const d=Object.fromEntries(Object.entries(i).filter(([,f])=>{const S=new Date().getTime();return!(f.timestamp+s<S)}));l(d)}return{get(s,o,i={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(c(),a()[JSON.stringify(s)])).then(d=>Promise.all([d?d.value:o(),d!==void 0])).then(([d,f])=>Promise.all([d,f||i.miss(d)])).then(([d])=>d)},set(s,o){return Promise.resolve().then(()=>{const i=a();return i[JSON.stringify(s)]={timestamp:new Date().getTime(),value:o},r().setItem(n,JSON.stringify(i)),o})},delete(s){return Promise.resolve().then(()=>{const o=a();delete o[JSON.stringify(s)],r().setItem(n,JSON.stringify(o))})},clear(){return Promise.resolve().then(()=>{r().removeItem(n)})}}}function de(){return{get(t,e,n={miss:()=>Promise.resolve()}){return e().then(a=>Promise.all([a,n.miss(a)])).then(([a])=>a)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}function $(t){const e=[...t.caches],n=e.shift();return n===void 0?de():{get(r,a,l={miss:()=>Promise.resolve()}){return n.get(r,a,l).catch(()=>$({caches:e}).get(r,a,l))},set(r,a){return n.set(r,a).catch(()=>$({caches:e}).set(r,a))},delete(r){return n.delete(r).catch(()=>$({caches:e}).delete(r))},clear(){return n.clear().catch(()=>$({caches:e}).clear())}}}function I(t={serializable:!0}){let e={};return{get(n,r,a={miss:()=>Promise.resolve()}){const l=JSON.stringify(n);if(l in e)return Promise.resolve(t.serializable?JSON.parse(e[l]):e[l]);const c=r();return c.then(s=>a.miss(s)).then(()=>c)},set(n,r){return e[JSON.stringify(n)]=t.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete(n){return delete e[JSON.stringify(n)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}function he(t){const e={value:`Algolia for JavaScript (${t})`,add(n){const r=`; ${n.segment}${n.version!==void 0?` (${n.version})`:""}`;return e.value.indexOf(r)===-1&&(e.value=`${e.value}${r}`),e}};return e}function me(t,e,n="WithinHeaders"){const r={"x-algolia-api-key":e,"x-algolia-application-id":t};return{headers(){return n==="WithinHeaders"?r:{}},queryParameters(){return n==="WithinQueryParameters"?r:{}}}}function ge({algoliaAgents:t,client:e,version:n}){const r=he(n).add({segment:e,version:n});return t.forEach(a=>r.add(a)),r}function fe(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}var X=120*1e3;function G(t,e="up"){const n=Date.now();function r(){return e==="up"||Date.now()-n>X}function a(){return e==="timed out"&&Date.now()-n<=X}return{...t,status:e,lastUpdate:n,isUp:r,isTimedOut:a}}var ee=class extends Error{name="AlgoliaError";constructor(t,e){super(t),e&&(this.name=e)}},te=class extends ee{stackTrace;constructor(t,e,n){super(t,n),this.stackTrace=e}},pe=class extends te{constructor(t){super("Unreachable hosts - your application id may be incorrect. If the error persists, please visit our help center https://alg.li/support-unreachable-hosts or reach out to the Algolia Support team: https://alg.li/support",t,"RetryError")}},R=class extends te{status;constructor(t,e,n,r="ApiError"){super(t,n,r),this.status=e}},_e=class extends ee{response;constructor(t,e){super(t,"DeserializationError"),this.response=e}},ye=class extends R{error;constructor(t,e,n,r){super(t,e,r,"DetailedApiError"),this.error=n}};function xe(t){const e=t;for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),a=t[n];e[n]=t[r],e[r]=a}return e}function be(t,e,n){const r=ve(n);let a=`${t.protocol}://${t.url}${t.port?`:${t.port}`:""}/${e.charAt(0)==="/"?e.substring(1):e}`;return r.length&&(a+=`?${r}`),a}function ve(t){return Object.keys(t).filter(e=>t[e]!==void 0).sort().map(e=>`${e}=${encodeURIComponent(Object.prototype.toString.call(t[e])==="[object Array]"?t[e].join(","):t[e]).replace(/\+/g,"%20")}`).join("&")}function we(t,e){if(t.method==="GET"||t.data===void 0&&e.data===void 0)return;const n=Array.isArray(t.data)?t.data:{...t.data,...e.data};return JSON.stringify(n)}function Se(t,e,n){const r={Accept:"application/json",...t,...e,...n},a={};return Object.keys(r).forEach(l=>{const c=r[l];a[l.toLowerCase()]=c}),a}function Pe(t){try{return JSON.parse(t.content)}catch(e){throw new _e(e.message,t)}}function Te({content:t,status:e},n){try{const r=JSON.parse(t);return"error"in r?new ye(r.message,e,r.error,n):new R(r.message,e,n)}catch{}return new R(t,e,n)}function ke({isTimedOut:t,status:e}){return!t&&~~e===0}function Ee({isTimedOut:t,status:e}){return t||ke({isTimedOut:t,status:e})||~~(e/100)!==2&&~~(e/100)!==4}function qe({status:t}){return~~(t/100)===2}function Ae(t){return t.map(e=>re(e))}function re(t){const e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...t,request:{...t.request,headers:{...t.request.headers,...e}}}}function Ne({hosts:t,hostsCache:e,baseHeaders:n,logger:r,baseQueryParameters:a,algoliaAgent:l,timeouts:c,requester:s,requestsCache:o,responsesCache:i}){async function d(h){const u=await Promise.all(h.map(m=>e.get(m,()=>Promise.resolve(G(m))))),y=u.filter(m=>m.isUp()),v=u.filter(m=>m.isTimedOut()),q=[...y,...v];return{hosts:q.length>0?q:h,getTimeout(m,T){return(v.length===0&&m===0?1:v.length+3+m)*T}}}async function f(h,u,y){const v=[],q=we(h,u),w=Se(n,h.headers,u.headers),m=h.method==="GET"?{...h.data,...u.data}:{},T={...a,...h.queryParameters,...m};if(l.value&&(T["x-algolia-agent"]=l.value),u&&u.queryParameters)for(const p of Object.keys(u.queryParameters))!u.queryParameters[p]||Object.prototype.toString.call(u.queryParameters[p])==="[object Object]"?T[p]=u.queryParameters[p]:T[p]=u.queryParameters[p].toString();let P=0;const z=async(p,j)=>{const N=p.pop();if(N===void 0)throw new pe(Ae(v));const O={...c,...u.timeouts},W={data:q,headers:w,method:h.method,url:be(N,h.path,T),connectTimeout:j(P,O.connect),responseTimeout:j(P,y?O.read:O.write)},H=Q=>{const F={request:W,response:Q,host:N,triesLeft:p.length};return v.push(F),F},E=await s.send(W);if(Ee(E)){const Q=H(E);return E.isTimedOut&&P++,r.info("Retryable failure",re(Q)),await e.set(N,G(N,E.isTimedOut?"timed out":"down")),z(p,j)}if(qe(E))return Pe(E);throw H(E),Te(E,v)},oe=t.filter(p=>p.accept==="readWrite"||(y?p.accept==="read":p.accept==="write")),L=await d(oe);return z([...L.hosts].reverse(),L.getTimeout)}function S(h,u={}){const y=()=>f(h,u,v),v=h.useReadTransporter||h.method==="GET";if((u.cacheable||h.cacheable)!==!0)return y();const w={request:h,requestOptions:u,transporter:{queryParameters:a,headers:n}};return i.get(w,()=>o.get(w,()=>o.set(w,y()).then(m=>Promise.all([o.delete(w),m]),m=>Promise.all([o.delete(w),Promise.reject(m)])).then(([m,T])=>T)),{miss:m=>i.set(w,m)})}return{hostsCache:e,requester:s,timeouts:c,logger:r,algoliaAgent:l,baseHeaders:n,baseQueryParameters:a,hosts:t,request:S,requestsCache:o,responsesCache:i}}var ne="5.46.2";function $e(t){return[{url:`${t}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${t}.algolia.net`,accept:"write",protocol:"https"}].concat(xe([{url:`${t}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function Ce({appId:t,apiKey:e,authMode:n,algoliaAgents:r,...a}){const l=me(t,e,n),c=Ne({hosts:$e(t),...a,algoliaAgent:ge({algoliaAgents:r,client:"Lite",version:ne}),baseHeaders:{"content-type":"text/plain",...l.headers(),...a.baseHeaders},baseQueryParameters:{...l.queryParameters(),...a.baseQueryParameters}});return{transporter:c,appId:t,apiKey:e,clearCache(){return Promise.all([c.requestsCache.clear(),c.responsesCache.clear()]).then(()=>{})},get _ua(){return c.algoliaAgent.value},addAlgoliaAgent(s,o){c.algoliaAgent.add({segment:s,version:o})},setClientApiKey({apiKey:s}){!n||n==="WithinHeaders"?c.baseHeaders["x-algolia-api-key"]=s:c.baseQueryParameters["x-algolia-api-key"]=s},searchForHits(s,o){return this.search(s,o)},searchForFacets(s,o){return this.search(s,o)},customPost({path:s,parameters:o,body:i},d){if(!s)throw new Error("Parameter `path` is required when calling `customPost`.");const u={method:"POST",path:"/{path}".replace("{path}",s),queryParameters:o||{},headers:{},data:i||{}};return c.request(u,d)},getRecommendations(s,o){if(s&&Array.isArray(s)&&(s={requests:s}),!s)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!s.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const S={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:s,useReadTransporter:!0,cacheable:!0};return c.request(S,o)},search(s,o){if(s&&Array.isArray(s)&&(s={requests:s.map(({params:u,...y})=>y.type==="facet"?{...y,...u,type:"facet"}:{...y,...u,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!s)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!s.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const S={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:s,useReadTransporter:!0,cacheable:!0};return c.request(S,o)}}}function je(t,e,n){return Ce({appId:t,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:fe(),requester:le(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:I(),requestsCache:I({serializable:!1}),hostsCache:$({caches:[ue({key:`${ne}-${t}`}),I()]}),...n})}const Oe={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",viewBox:"0 0 16 16"};function Qe(t,e){return x(),k("svg",Oe,[...e[0]||(e[0]=[g("path",{d:"M6 2C3.8 2 2 3.8 2 6s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4M0 6c0-3.3 2.7-6 6-6s6 2.7 6 6c0 1.3-.4 2.5-1.1 3.5l4.8 4.8c.4.4.4 1 0 1.4s-1 .4-1.4 0l-4.8-4.8C8.5 11.6 7.3 12 6 12c-3.3 0-6-2.7-6-6",style:{"fill-rule":"evenodd","clip-rule":"evenodd"}},null,-1)])])}const Ie={render:Qe},Re={class:"flex flex-col justify-between md:flex-row"},De=["onReset"],Je={class:"relative flex w-full max-w-sm text-[0]"},ze=["value","onInput"],se={__name:"Searchbox",setup(t){return(e,n)=>{const r=b("ais-search-box");return x(),D(r,{class:"w-full"},{default:A(({currentRefinement:a,refine:l})=>[g("div",Re,[n[1]||(n[1]=g("h1",{class:"-tracking-3 mb-5 font-extended text-24 leading-110 font-normal text-indigo md:mb-0",textContent:"Search"},null,-1)),g("form",{class:"flex w-full justify-items-end md:w-1/4",onSubmit:n[0]||(n[0]=B(()=>{},["prevent"])),onReset:B(c=>l(""),["prevent"])},[g("label",Je,[_(K(Ie),{class:"absolute top-3 left-3 w-2.5 fill-indigo-800"}),g("input",{id:"search",name:"search",type:"search","aria-label":"Search",placeholder:"Search",autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",required:"",maxlength:"512",class:"h-[34px] w-full max-w-sm rounded-md border border-solid border-indigo-400 bg-white p-2.5 pl-7 font-body text-10 leading-130 font-normal text-indigo-800 placeholder-indigo-800",value:a,onInput:c=>l(c.target.value)},null,40,ze)])],40,De)])]),_:1})}}};se.__docgenInfo={exportName:"default",displayName:"Searchbox",description:"",tags:{},sourceFiles:["/home/runner/work/colby-college-theme-inertia/colby-college-theme-inertia/resources/js/components/Search/Searchbox.vue"]};const Le={class:"button-group mb-10 flex flex-wrap justify-end gap-4"},We=["aria-label","onClick"],He={class:"btn__text"},ae={__name:"QuerySuggestions",props:{search:Function,removeExactQueryQuerySuggestion:Function},setup(t){return(e,n)=>{const r=b("ais-configure"),a=b("ais-highlight"),l=b("ais-hits"),c=b("ais-index");return x(),D(c,{"index-name":"prod_colbyedu_aggregated_query_suggestions","index-id":"colby-qs"},{default:A(()=>[_(r,{hitsPerPage:8}),_(l,{"transform-items":t.removeExactQueryQuerySuggestion},{default:A(({items:s,sendEvent:o})=>[g("ul",Le,[(x(!0),k(Y,null,Z(s,i=>(x(),k("li",{key:i.objectID,"aria-label":i.query,onClick:d=>t.search(i.query),class:"btn group inline-flex cursor-pointer flex-row items-center space-x-1.5 rounded border border-solid border-indigo-300 bg-indigo-100 px-3 py-1 font-body text-10 leading-130 font-normal text-indigo outline-offset-[-1px] transition-all duration-200 ease-in-out hover:bg-indigo-200 focus:bg-indigo-200 focus:outline focus:outline-2 focus:outline-canary"},[g("span",He,[_(a,{hit:i,attribute:"query"},null,8,["hit"])])],8,We))),128))])]),_:1},8,["transform-items"])]),_:1})}}};ae.__docgenInfo={exportName:"default",displayName:"QuerySuggestions",description:"",tags:{},props:[{name:"search",type:{name:"func"}},{name:"removeExactQueryQuerySuggestion",type:{name:"func"}}],sourceFiles:["/home/runner/work/colby-college-theme-inertia/colby-college-theme-inertia/resources/js/components/Search/QuerySuggestions.vue"]};const Fe={class:"search"},Be={class:"mb-5 flex w-full items-center border-b border-gray-200 pb-4"},Ue={class:"qs mb-12",role:"region","aria-label":"Query Suggestions"},Me={key:0,class:"-tracking-3 text-left font-extended text-24 leading-110 font-normal text-indigo",textContent:"What are you looking for?"},Ve={key:1},Xe={class:"article space-y-4"},Ge={class:"context w-full space-y-5"},Ke={class:"text-group"},Ye=["textContent"],Ze={class:"text-group__heading -tracking-3 mt-2 text-left font-extended text-20 leading-110 font-normal text-indigo"},et={class:"text-group__p mt-2 text-left font-body text-12 leading-130 font-normal break-words text-indigo-800 md:text-12"},tt={class:"button-group flex flex-wrap gap-4"},rt={key:1},nt={class:"-tracking-3 font-extended text-24 leading-110 font-normal text-indigo"},J={__name:"Search",setup(t,{expose:e}){const n=je("2XJQHYFX2S","63c304c04c478fd0c4cb1fb36cd666cb"),r=U(""),a=U(null);function l(o){r.value=o;const i=a.value?.instantSearchInstance?.helper;i&&i.setQuery(o).search()}function c(){r.value="";const o=a.value?.instantSearchInstance?.helper;o&&o.setQuery("").search();const i=a.value?.$el.querySelector('input[type="search"]');i&&(i.value="")}function s(o){const i=a.value?.instantSearchInstance?.helper?.state;if(i&&"query"in i){const d=i.query.toLowerCase();return r.value=d,o.filter(f=>f.query.toLowerCase()!==d)}return o}return e({clearSearch:c}),(o,i)=>{const d=b("ais-configure"),f=b("ais-highlight"),S=b("ais-snippet"),h=b("ais-hits"),u=b("ais-state-results"),y=b("ais-index"),v=b("ais-instant-search");return x(),k("div",Fe,[_(v,{id:"modal-top",ref_key:"aisIS",ref:a,"index-name":"prod_colbyedu_aggregated","search-client":K(n)},{default:A(()=>[_(d,{hitsPerPage:1}),g("div",Be,[_(se)]),g("div",Ue,[_(ae,{search:l,removeExactQueryQuerySuggestion:s})]),r.value?M("",!0):(x(),k("p",Me)),r.value?(x(),k("div",Ve,[_(y,{"index-name":"prod_colbyedu_aggregated","index-id":"results"},{default:A(()=>[_(d,{hitsPerPage:20}),_(u,null,{default:A(({results:{hits:q,query:w}})=>[q.length>0?(x(),D(h,{key:0,class:"article-grid mx-auto my-0 grid w-full max-w-screen-2xl grid-cols-8 gap-10 pb-6"},{default:A(({items:m,sendEvent:T})=>[(x(!0),k(Y,null,Z(m,P=>(x(),k("div",{class:"article-grid__item col-span-4 md:col-span-2",key:P.objectID},[g("article",Xe,[g("div",Ge,[g("div",Ke,[g("div",{class:"text-group__subheading text-left font-extended text-12 leading-130 font-bold tracking-8 text-azure uppercase",textContent:V(P.originIndexLabel)},null,8,Ye),g("h2",Ze,[_(f,{attribute:"cleaned_title",hit:P},null,8,["hit"])]),g("p",et,[_(S,{attribute:"content",hit:P},null,8,["hit"])])]),g("div",tt,[_(ce,{size:"small",type:"light",url:P.permalink,title:"Read More"},null,8,["url"])])])])]))),128))]),_:1})):(x(),k("div",rt,[g("p",nt,[i[0]||(i[0]=ie(" No results found for the query: ",-1)),g("q",null,V(w),1)])]))]),_:1})]),_:1})])):M("",!0)]),_:1},8,["search-client"])])}}};J.__docgenInfo={exportName:"default",displayName:"Search",description:"",tags:{},expose:[{name:"clearSearch"}],sourceFiles:["/home/runner/work/colby-college-theme-inertia/colby-college-theme-inertia/resources/js/components/Search/Search.vue"]};const ct={title:"Core Components/Search",component:J,parameters:{backgrounds:{default:"light"}}},st=t=>({components:{Search:J},setup(){return{args:t}},template:'<Search v-bind="args" />'}),C=st.bind({});C.args={};C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:`args => ({
  components: {
    Search
  },
  setup() {
    return {
      args
    };
  },
  template: '<Search v-bind="args" />'
})`,...C.parameters?.docs?.source}}};const lt=["Default"];export{C as Default,lt as __namedExportsOrder,ct as default};
