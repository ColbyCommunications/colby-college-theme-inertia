import{l as d,r as p,i as q,o as X,k as Y,u as Z,c as r,a,h as E,e as m,m as V,F as h,b as _,d as s,n as I}from"./iframe-BI_3ezP0.js";import{a as ee}from"./index-B9ygI19o.js";import{G as ae}from"./glide.esm-YJcNIzYu.js";import{_ as P}from"./Context-rCALFtqQ.js";import{_ as te}from"./ArrowControls-CO-foG2I.js";import{_ as R}from"./TextGroup-8rV2ZAMN.js";import{_ as G}from"./ButtonGroup-DeTJD12j.js";import{_ as le}from"./Picture-DioVXFI5.js";const se={class:"carousel__inner mx-auto my-0 w-full max-w-screen-2xl gap-x-10 px-5 md:grid md:grid-cols-12"},ne={class:"carousel__context items-center md:col-span-4 md:flex lg:col-span-3"},ie={key:1,class:"context w-full space-y-5"},re={key:0,class:"arrow-controls space-x-4 pt-2"},ue={class:"carousel__window w-full","data-glide-window":""},oe={class:"glide__track","data-glide-el":"track"},ce={class:"glide__slides"},de={class:"relative pb-[56.578947368421055%]"},pe=["srcset"],me=["srcset","alt"],fe={class:"carousel__slides-context relative mt-6 h-80 md:h-40"},ge={class:"context space-y-5"},ye={key:0,class:"carousel__controls-wrap flex justify-end"},ve={class:"carousel__controls"},be={__name:"Carousel",props:{render_api:{type:[Boolean,Number,String],default:!1},api:{type:String,default:""},type:{type:String,default:"dark"},heading:{type:String,default:"News"},paragraph:{type:String,default:"Latest from Colby."},cta:{type:String,default:"Read Story"},buttons:{type:Array,default:()=>[{url:"https://news.colby.edu/",title:"All News"}]},FAbuttons:{type:Array,default:()=>[{url:"https://news.colby.edu/external/faculty-accomplishments/",title:"All News"}]},items:{type:Array,default:()=>[]},size:{type:String,default:"small"},perView:{type:Number,default:1},gap:{type:Number,default:0},autoplay:{type:Boolean,default:!0},interval:{type:[Number,String],default:5e3}},setup(u,{expose:D}){const n=u,w=d(()=>["true","1",1,!0].includes(n.render_api)),l=d(()=>w.value?n.api==="Latest News"?"latest":n.api==="Academic News"?"academic":n.api==="Faculty Accomplishments"?"faculty":"latest":"basic"),S=p("");q(l,e=>{S.value=e==="academic"||e==="faculty"?n.api:""},{immediate:!0});const O=d(()=>(l.value==="faculty"?n.FAbuttons:n.buttons).map(e=>({button:{url:e.url,title:e.title,target:"_blank"}}))),T=d(()=>n.buttons.map(e=>({button:{url:e.url,title:e.title,target:e.target||""}}))),A=d(()=>{if(w.value)switch(l.value){case"latest":return"https://news.colby.edu/wp-json/wp/v2/posts?per_page=5&tags=561&_embed=1";case"academic":return"https://news.colby.edu/wp-json/wp/v2/posts?per_page=5&categories=8,12,14,15&_embed=1";case"faculty":return"https://news.colby.edu/wp-json/wp/v2/external_post?story_type_slug=faculty-accomplishments&per_page=5&_embed=1";default:return}}),C=p([]);async function H(){if(!A.value)return;const{data:e}=await ee.get(A.value);C.value=l.value==="faculty"?e.map(i=>({yoast_head_json:{og_image:[{url:""}]},title:{rendered:i.title.rendered.replace(/<(?!\/?(i|em)\b)[^>]+>/gi,"")},"post-meta-fields":{primary_category:"",summary:[`${i.content.rendered.replace(/<(?!\/?(i|em)\b)[^>]+>/gi,"").substring(0,120)}...`]},guid:{rendered:i.external_url}})):e}const f=d(()=>l.value==="basic"?n.items:C.value),j=p(null),g=p(0),c=p(null);function U(){const e=j.value?.querySelector("[data-glide-window]");e&&(c.value=new ae(e,{type:"carousel",gap:n.gap,animationDuration:600,autoplay:!1,perView:n.perView}),c.value.on("run",()=>{g.value=c.value.index}),c.value.mount())}const y=p(!!n.autoplay),$=d(()=>Number(n.interval)||5e3);let v=null;function x(){k(),!(!y.value||f.value.length<=1)&&(v=setInterval(b,$.value))}function k(){v&&(clearInterval(v),v=null)}function B(){y.value=!1,k()}function L(){y.value||(y.value=!0,x())}function b(){c.value&&c.value.go(">")}function z(){c.value&&c.value.go("<")}function N(e){e==="next"?b():z()}X(async()=>{w.value&&await H(),await Y(),setTimeout(()=>{U(),x()},80)}),Z(k),q([f,$],x,{deep:!0});const F=e=>new DOMParser().parseFromString(e||"","text/html").documentElement.textContent||"",M=e=>e?.yoast_head_json?.og_image?.[0]||null,J=e=>F(e?.title?.rendered||""),K=e=>F(e?.["post-meta-fields"]?.summary?.[0]||""),Q=e=>e?.["post-meta-fields"]?.primary_category||"",W=e=>e?[`https://colby.edu/cdn-cgi/image/width=320,quality=60/${e} 320w`,`https://colby.edu/cdn-cgi/image/width=640,quality=65/${e} 640w`,`https://colby.edu/cdn-cgi/image/width=960,quality=70/${e} 960w`,`https://colby.edu/cdn-cgi/image/width=1280,quality=70/${e} 1280w`].join(", "):"";return D({pauseCarousel:B,playCarousel:L,next:b,prev:z,changeSlide:N,activeSlide:g}),(e,i)=>(s(),r("div",se,[a("div",ne,[l.value==="basic"?(s(),E(P,{key:0,size:"large",type:u.type,arrow:!0,reverse:!0,heading:u.heading,paragraph:u.paragraph,buttons:{items:T.value}},null,8,["type","heading","paragraph","buttons"])):(s(),r("div",ie,[m(R,{size:"small",subheading:l.value!=="latest"?S.value:"",heading:u.heading,paragraph:u.paragraph},null,8,["subheading","heading","paragraph"]),m(G,{items:O.value,size:"small"},null,8,["items"]),l.value!=="latest"&&l.value!=="basic"?(s(),r("div",re,[a("button",{class:"arrow-btn inline-flex h-12 w-12 items-center justify-center rounded border border-solid border-indigo-300 bg-indigo-100 transition-all duration-200 ease-in-out hover:bg-indigo-200 focus:bg-indigo-200",onClick:i[0]||(i[0]=t=>N("prev"))},[...i[2]||(i[2]=[a("span",{class:"sr-only"},"Previous",-1),a("svg",{class:"arrow-btn__arrow h-5 w-5",viewBox:"0 0 26.9 26.5"},[a("path",{d:"M26.9 12.7h-25L14 .7l-.8-.7L0 13.2l13.2 13.3.8-.7L1.9 13.7h25z"})],-1)])]),a("button",{class:"arrow-btn inline-flex h-12 w-12 items-center justify-center rounded border border-solid border-indigo-300 bg-indigo-100 transition-all duration-200 ease-in-out hover:bg-indigo-200 focus:bg-indigo-200",onClick:i[1]||(i[1]=t=>N("next"))},[...i[3]||(i[3]=[a("span",{class:"sr-only"},"Next",-1),a("svg",{class:"arrow-btn__arrow h-5 w-5 rotate-180",viewBox:"0 0 26.9 26.5"},[a("path",{d:"M26.9 12.7h-25L14 .7l-.8-.7L0 13.2l13.2 13.3.8-.7L1.9 13.7h25z"})],-1)])])])):V("",!0)]))]),a("div",{class:"carousel__main mt-12 md:col-span-8 md:col-start-5 md:mt-0",onMouseenter:B,onMouseleave:L,ref_key:"rootEl",ref:j},[a("div",ue,[a("div",oe,[a("div",ce,[l.value==="basic"?(s(!0),r(h,{key:0},_(u.items,(t,o)=>(s(),r("div",{key:"basic-"+o,class:"carousel__slide glide__slide"},[m(le,{class:"h-full w-full object-cover","size-desktop":t.image?.sizes?.Rectangle,"size-mobile":t.image?.sizes?.Rectangle_mobile,alt:t.image?.alt||""},null,8,["size-desktop","size-mobile","alt"])]))),128)):(s(!0),r(h,{key:1},_(f.value,(t,o)=>(s(),r("div",{key:"api-"+o,class:"carousel__slide glide__slide"},[a("div",de,[a("picture",null,[a("source",{media:"(min-width:768px)",srcset:M(t)?.url||""},null,8,pe),a("img",{class:"absolute top-0 left-0 h-full w-full object-cover",srcset:W(M(t)?.url),sizes:"(max-width: 767px) 100vw, 50vw",alt:t.yoast_head_json?.og_description||""},null,8,me)])])]))),128))])])]),a("div",fe,[l.value==="basic"?(s(!0),r(h,{key:0},_(u.items,(t,o)=>(s(),r("div",{key:"ctx-basic-"+o,class:I(["carousel__slides-context-wrap invisible absolute top-0 left-0 w-full translate-y-[60px] opacity-0 transition-all duration-300 ease-in-out",{"!visible !translate-y-0 opacity-100":g.value===o}])},[m(P,{size:u.size,type:u.type,subheading:t.subheading,heading:t.heading,paragraph:t.paragraph,buttons:{items:t.buttons}},null,8,["size","type","subheading","heading","paragraph","buttons"])],2))),128)):(s(!0),r(h,{key:1},_(f.value,(t,o)=>(s(),r("div",{key:"ctx-api-"+o,class:I(["carousel__slides-context-wrap invisible absolute top-0 left-0 w-full translate-y-[60px] opacity-0 transition-all duration-300 ease-in-out",{"!visible !translate-y-0 opacity-100":g.value===o}])},[a("div",ge,[m(R,{size:"small",static:!0,subheading:Q(t),heading:J(t),paragraph:K(t)},null,8,["subheading","heading","paragraph"]),l.value==="latest"?(s(),E(G,{key:0,items:[{button:{url:t.guid?.rendered||"#",title:u.cta,target:"_blank"}}],size:"small"},null,8,["items"])):V("",!0)])],2))),128))]),l.value==="basic"||l.value==="latest"?(s(),r("div",ye,[a("div",ve,[m(te,{size:"large",type:"light",onPrev:z,onNext:b})])])):V("",!0)],544)]))}};be.__docgenInfo={exportName:"default",displayName:"Carousel",description:"",tags:{},expose:[{name:"pauseCarousel"},{name:"playCarousel"},{name:"next"},{name:"prev"},{name:"changeSlide"},{name:"activeSlide"}],props:[{name:"render_api",type:{name:"boolean|number|string"},defaultValue:{func:!1,value:"false"}},{name:"api",type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"type",type:{name:"string"},defaultValue:{func:!1,value:'"dark"'}},{name:"heading",type:{name:"string"},defaultValue:{func:!1,value:'"News"'}},{name:"paragraph",type:{name:"string"},defaultValue:{func:!1,value:'"Latest from Colby."'}},{name:"cta",type:{name:"string"},defaultValue:{func:!1,value:'"Read Story"'}},{name:"buttons",type:{name:"array"},defaultValue:{func:!1,value:'[{ url: "https://news.colby.edu/", title: "All News" }]'}},{name:"FAbuttons",type:{name:"array"},defaultValue:{func:!1,value:`[
  {
    url: "https://news.colby.edu/external/faculty-accomplishments/",
    title: "All News",
  },
]`}},{name:"items",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"size",type:{name:"string"},defaultValue:{func:!1,value:'"small"'}},{name:"perView",type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"gap",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"autoplay",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"interval",type:{name:"number|string"},defaultValue:{func:!1,value:"5000"}}],sourceFiles:["/home/runner/work/colby-college-theme-inertia/colby-college-theme-inertia/resources/js/components/Carousel/Carousel.vue"]};export{be as _};
