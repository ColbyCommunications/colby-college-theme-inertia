import{r as p,l as _,o as x,c as s,m,a as d,e as o,F as h,b as f,d as l}from"./iframe-BI_3ezP0.js";import{a as v}from"./index-B9ygI19o.js";import{_ as w}from"./Context-rCALFtqQ.js";import{_ as y}from"./Article-CX5YCELc.js";const A={class:"context-article-grid space-y-20"},k={key:0,class:"context-article-grid__inner mx-auto my-0 w-full max-w-screen-2xl gap-x-10 px-5 md:grid md:grid-cols-12"},V={class:"md:col-span-8 md:col-start-3"},S={class:"context-article-grid__inner mx-auto mt-10 w-full max-w-screen-2xl gap-x-10 px-5"},N={class:"article-grid grid w-full max-w-screen-2xl grid-cols-9 gap-10"},P={__name:"ContextArticleGrid",props:{subheading:{type:String,default:""},heading:{type:String,default:""},paragraph:{type:String,default:""},cta:{type:String,default:"Read Story"},renderApi:{type:Boolean,default:!1},api:{type:String,default:""},perPage:{type:Number,default:3},items:{type:Array,default:()=>[]}},setup(t){const r=t,u=p([]),b=p(null),c=e=>e?new DOMParser().parseFromString(e,"text/html").documentElement.textContent:"",g=_(()=>u.value.map(e=>{const n=e.yoast_head_json?.og_image?.[0]?.url||"";return{id:e.id,image:n?{sizes:{desktop:n,mobile:n},alt:e.yoast_head_json?.og_description||""}:null,subheading:e["post-meta-fields"]?.primary_category||"",heading:c(e.title?.rendered),paragraph:e["post-meta-fields"]?.summary?.[0]?c(e["post-meta-fields"].summary[0]):"",buttons:[{button:{url:e.guid?.rendered||"#",title:r.cta,target:"_blank"}}]}}));return x(async()=>{if(r.renderApi){let e="https://news.colby.edu/wp-json/wp/v2/posts?per_page=6&tags=569&_embed=1";switch(r.api){case"Arts":e=`https://news.colby.edu/wp-json/wp/v2/posts?per_page=${r.perPage}&categories=8&_embed=1`;break;case"Alumni":e=`https://news.colby.edu/wp-json/wp/v2/posts?per_page=${r.perPage}&categories=6&_embed=1`;break}try{const n=await v.get(e);u.value=n.data.slice(0,r.perPage)}catch(n){console.error("API Fetch Error:",n),b.value=n}}}),(e,n)=>(l(),s("div",A,[t.subheading||t.heading||t.paragraph?(l(),s("div",k,[d("div",V,[o(w,{size:"medium",align:"center",subheading:t.subheading,heading:t.heading,paragraph:t.paragraph},null,8,["subheading","heading","paragraph"])])])):m("",!0),d("div",S,[d("div",N,[t.renderApi&&g.value.length?(l(!0),s(h,{key:0},f(g.value,(a,i)=>(l(),s("div",{key:a.id||i,class:"article-grid__item col-span-9 md:col-span-3"},[o(y,{size:"small",image:a.image,subheading:a.subheading,heading:a.heading,paragraph:a.paragraph,buttons:a.buttons},null,8,["image","subheading","heading","paragraph","buttons"])]))),128)):!t.renderApi&&t.items.length?(l(!0),s(h,{key:1},f(t.items,(a,i)=>(l(),s("div",{key:i,class:"article-grid__item col-span-9 md:col-span-3"},[o(y,{size:"small",image:a.image,subheading:a.subheading,heading:a.heading,paragraph:a.paragraph,buttons:a.buttons},null,8,["image","subheading","heading","paragraph","buttons"])]))),128)):m("",!0)])])]))}};P.__docgenInfo={exportName:"default",displayName:"ContextArticleGrid",description:"",tags:{},props:[{name:"subheading",type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"heading",type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"paragraph",type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"cta",type:{name:"string"},defaultValue:{func:!1,value:'"Read Story"'}},{name:"renderApi",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"api",type:{name:"string"},defaultValue:{func:!1,value:'""'}},{name:"perPage",type:{name:"number"},defaultValue:{func:!1,value:"3"}},{name:"items",type:{name:"array"},defaultValue:{func:!1,value:"[]"}}],sourceFiles:["/home/runner/work/colby-college-theme-inertia/colby-college-theme-inertia/resources/js/components/ContextArticleGrid/ContextArticleGrid.vue"]};export{P as _};
